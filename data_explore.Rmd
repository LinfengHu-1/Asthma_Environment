---
title: "data_exploration"
author: "Pluto Zhang"
date: "2022-10-07"
output: pdf_document
---

```{r}
library(rstudioapi)
library(tidyverse)
library(gam)
library(splines)
library(splines2)  
library(dplyr)
library(tidyr)
library(broom)
library(dslabs)
library(ggplot2)
library(ggthemes)
library(ggrepel)
# data cleaning for socio economic factors
soecon <- read_csv('soecon.csv')

```


```{r}
names(soecon)
```



Run a summary of the variables in socioeconomic category
```{r}
summary(soecon)
```



Draw histograms of the variables in the dataset
```{r}

hist(soecon$SNAP, main='Histogram of SNAP enrollment across states', xlab = 'per 10,000 people' )

hist(soecon$individual_homeless, main = 'Histogram of homeless individuals across states', xlab = 'per 10,000 people')

hist(soecon$fam_homeless, main = 'Histogram of homeless in families across states', xlab = 'per 10,000 people')

hist(soecon$total_homeless, main = 'Histogram of total homeless people across states ', xlab = 'per 10,000 people')

hist(soecon$unemployment_rate, main='Histogram of unemployment rate across states', xlab = 'unemployment rate')

hist(soecon$Female_poverty, main='Histogram of female poverty percentage across states', xlab = 'percentage of total female population')

```
```{r}
pairs(soecon$total_homeless ~ soecon$SNAP + soecon$unemployment_rate + soecon$Total_poverty )
```
Based on the paired scatter plot, there is no obvious colinearity between the four main socioeconomic variables: SNAP enrollment, total_poverty rate, unemployment rate and total number of homeless people, which means that these four variables are independent with each other. 


```{r}
# for the homeless variable, test for colinearity between its three subvariables 
pairs(soecon$total_homeless ~ soecon$individual_homeless + soecon$fam_homeless)
```
```{r}
# for the homeless variable, test for colinearity between its three subvariables 
pairs(soecon$Total_poverty ~ soecon$individual_homeless + soecon$fam_homeless)
```

```{r}

# now we try to determine which variable is more significant in predicting the 
# forward selection
#coln <- colnames(dat_exp)
#require(broom)
#forward selection procedure using AIC values 
#lm1 <- lm(tc ~ 1, data=dat)
#stepModel <- step(lm1, direction="forward",
#scope=(~ bmi + I(bmi ^2) + age + female + female * age + I(age ^2)+ female * I(age ^2)), data=ss)

```


#### CDI data
```{r}
names(dat_full[, 1:25])
```
```{r}
dat_full <- read.csv("FullData.csv")
summary(dat_full[, 4:25])
```
```{r}
hist(dat_full$DataValue, main='Histogram of asthma crude prevalence among women aged 18-44 years across states' )
hist(dat_full$TOBDataValue, main='Histogram of Percent current cigarette smoking among women aged 18-44 years across states')
hist(dat_full$selfHlthDataValue, main = 'Histogram of Self-rated health status among women aged 18-44 years across states')
```





